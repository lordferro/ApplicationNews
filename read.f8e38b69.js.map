{"mappings":"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","sources":["src/js/news-card.js","src/js/header.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/publishedDateFormatter.js","src/js/setFavoritesInLocalStore.js","src/js/setReadInLocalStore.js","src/read.js","src/js/themeSwitcher.js"],"sourcesContent":["const STORAGE_FAVORITES_KEY = 'favorites';\n\nlet favIconClass = \"fav-icon-add\";\n\nexport function createmarkup({\n  publishedDate,\n  sectionName,\n  articleTitle,\n  shortDescription,\n  urlOriginalArticle,\n  imgUrl,\n  articleId,\n}) {\n  let textLength = shortDescription;\n  if (shortDescription.length > 110) {\n    const spaceIndex = shortDescription.indexOf(' ', 110);\n    if (spaceIndex > 0) {\n      textLength = shortDescription.slice(0, spaceIndex) + '...';\n    }\n  }\n  let titleLength = articleTitle;\n  if (articleTitle.length > 58) {\n    const spaceIndex = articleTitle.indexOf(' ', 44);\n    if (spaceIndex > 0) {\n      titleLength = articleTitle.slice(0, spaceIndex) + '...';\n    }\n  }\n  // проверка или новость есть в локальном избранное\n  let favoritesBtnText = 'Add to favorites';\n  const favorites = localStorage.getItem(STORAGE_FAVORITES_KEY);\n  if (favorites) {\n    const parsedFavorites = JSON.parse(favorites);\n    const favoritesKeys = Object.keys(parsedFavorites);\n    for (const favoriteKey of favoritesKeys) {\n      const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n      const { id, _id, slug_name } = parsedFavorite;\n\n      const articleIdInFavorites = id || _id || slug_name;\n      if (articleId === articleIdInFavorites) {\n        favoritesBtnText = 'Remove from favorites';\n        favIconClass = \"fav-icon-remove\";\n      } else {favIconClass = \"fav-icon-add\";}\n    }\n  }\n\n let favIcon =\n    `<svg class=\"fav-icon ${favIconClass}\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>`;\n  return `\n      <article class=\"card\" id=\"${articleId}\">\n\n        <div class=\"card__img-container\" >\n          <div class=\"card__blur\" id_card=\"${articleId}\">\n            <p class=\"card__already-read\">\n              Already read ✓\n            </p>\n            </div>\n          <img class=\"card__img\" src=\"${imgUrl}\" alt=\"${articleTitle}\">\n          <p class=\"card__section-name\">\n            ${sectionName}\n          </p>\n          <button class=\"card__btn\" type=\"button\">\n           ${favoritesBtnText}\n          </button>\n          ${favIcon}\n        </div>\n        <h2 class=\"card__title\">\n          ${titleLength}\n        </h2>\n        <p class=\"card__text\">${textLength}</p>\n        <div class=\"card__bottom\">\n          <span class=\"card__date\">\n            ${publishedDate}\n          </span>\n          <a class=\"card__read-more-search\"\n            href=\"${urlOriginalArticle}\" target=\"_blank\"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    `;\n}\n","const btnSearch = document.querySelector(\".search_mob_btn\");\nconst formSearch = document.querySelector(\".search_form\");\nconst inputSearch = document.querySelector(\".search_input\");\nconst btn = document.querySelector(\".search_btn\");\n\nexport function onSearchClick() {\n    btnSearch.style.display = \"none\";\n    formSearch.style.display = \"block\";\n    inputSearch.style.display = \"block\";\n    btn.style.display = \"block\";\n    \n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","// начало. переформатирование даты\nexport function publishedDateFormatter(date) {\n  return formatDate(new Date(date));\n}\n\nfunction formatDate(date) {\n  return [\n    padTo2Digits(date.getDate()),\n    padTo2Digits(date.getMonth() + 1),\n    date.getFullYear(),\n  ].join('/');\n}\n\nfunction padTo2Digits(num) {\n  return num.toString().padStart(2, '0');\n}\n// конецю переформатирование даты\n","export function setFavoritesInLocalStor({\n  resultsArr,\n  clickedArticleId,\n  evt,\n}) {\n  const STORAGE_FAVORITES_KEY = 'favorites';\n  resultsArr.forEach(article => {\n    if (\n      article.id == clickedArticleId ||\n      article.slug_name == clickedArticleId ||\n      article._id == clickedArticleId\n    ) {\n      let savedData = localStorage.getItem(STORAGE_FAVORITES_KEY);\n\n      // проверка или есть уже обьект\n      savedData = savedData ? JSON.parse(savedData) : {};\n\n      if (savedData[clickedArticleId]) {\n        delete savedData[`${clickedArticleId}`];\n\n        const compareString = evt.target.textContent.trim()\n        if ((compareString === 'Remove from favorites')) {\n          evt.target.textContent = 'Add to favorites';\n  \n\n        }\n\n        localStorage.setItem(STORAGE_FAVORITES_KEY, JSON.stringify(savedData));\n        return;\n      } else {\n        savedData[clickedArticleId] = article;\n\n        localStorage.setItem(STORAGE_FAVORITES_KEY, JSON.stringify(savedData));\n      }\n    }\n  });\n}","//===добавляет избранное в локальное хранилище ==========\nexport function setReadInLocalStor({\n  resultsArr,\n  clickedArticleId,\n  evt,\n}) {\n  const STORAGE_READ_KEY = 'read';\n  resultsArr.forEach(article => {\n    if (\n      article.id == clickedArticleId ||\n      article.slug_name == clickedArticleId ||\n      article._id == clickedArticleId\n    ) {\n      let savedData = localStorage.getItem(STORAGE_READ_KEY);\n      \n      // проверка или есть уже обьект\n      savedData = savedData ? JSON.parse(savedData) : {};\n\n      article.dateOfReading = getTime();   \n        savedData[clickedArticleId] = article;\n        \n        localStorage.setItem(STORAGE_READ_KEY, JSON.stringify(savedData));\n        \n    }\n  });\n}\n\nfunction getTime(){\n  const date = new Date().getDate();\n  const month = (new Date().getMonth() + 1);\n  const year = new Date().getFullYear();\n  let DateOfRead = (`${date}/${month}/${year}`)\n  return DateOfRead;\n}\n//== добавляет избранное в локальное хранилище. конец ==========\n","import {createmarkup} from './js/news-card';\nimport {onSearchClick} from './js/header';\nimport { ThemeSwitcher } from './js/themeSwitcher';\nimport {publishedDateFormatter} from './js/publishedDateFormatter';\nimport {setFavoritesInLocalStor} from './js/setFavoritesInLocalStore';\nimport {setReadInLocalStor} from './js/setReadInLocalStore';\n\n\nconst newsContainerRef = document.querySelector('.news_container');\nconst body = document.querySelector('body');\nconst bodyRead = document.querySelector('.body');\nconst searchInput = document.querySelector('.search_form');\nconst withoutNewsContainer = document.querySelector('.without-news_container')\n\n\n\nlet markupAll = '';\nlet resultsArr = '';\nlet arrArticlesFromLocStor = []\nlet arrDateOfRead = [];\nlet arrUniqueDateOfRead = [];\nlet arrArticlesPerDate = [];\nlet favoritesArrFedor = [];\nlet createArrFedor = [];\nlet read=\"\"\nlet fullMarkup = '';\nlet sectionMarkup = '';\nlet startSectionMarkup = '';\nlet blockMarkup = '';\nconst endSectionMarkup = '</ul></label> </section>';\nconst STORAGE_READ_KEY = 'read';\n\n\ngetReadArticlesFromLocStor();\n//===отримання масиву статей з local storage ==========\nfunction getReadArticlesFromLocStor() {\n  read = localStorage.getItem(STORAGE_READ_KEY);\n  if (!read) {\n    withoutNewsContainer.style.display = 'block';\n  } else {\n   let arrArticlesFromLocStor = JSON.parse(read);\n    getUniqeDateOfRead(arrArticlesFromLocStor);\n\n  }\n}\n\n//===отримання масиву дат для створення секцій із даних local storage ==========\n//добавити перевірку на пустий масив\nfunction getUniqeDateOfRead(arr) {\n  const parsedFavorites = arr;\n  const favoritesKeys = Object.keys(parsedFavorites);\n  \n  for (const favoriteKey of favoritesKeys) {\n    const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n    favoritesArrFedor.push(parsedFavorite);\n    const {\n      abstract,\n      published_date,\n      pub_date,\n      section,\n      section_name,\n      title,\n      headline,\n      media,\n      multimedia,\n      url,\n      web_url,\n      id,\n      _id,\n      slug_name,\n      dateOfReading,\n    } = parsedFavorite;\n    \n    favoritesArrFedor.forEach(article => {\n      \n     arrDateOfRead.push(article.dateOfReading);\n    });\n    arrUniqueDateOfRead = arrDateOfRead.filter(getOnlyUniqueArray);\n\n   \n  }\n} \nrenderPage(arrUniqueDateOfRead)\n \n//=== створення масиву статей по даті для блоку секції ==========\n\n//добавити перевірку на пустий масив\nfunction renderPage(arrUniqueDateOfRead) {\n  if (!read) {\n    withoutNewsContainer.style.display = 'block';\n  }\n  fullMarkup = '';\n  arrUniqueDateOfRead.forEach(date => {\n  \n    createSectionMarkup(date);\n    getArticlesPerDate(date);\n  \n    createBlockMarkup(arrArticlesPerDate);\n    sectionMarkup = startSectionMarkup + blockMarkup + endSectionMarkup;\n    fullMarkup = fullMarkup + sectionMarkup;\n    blockMarkup= '';\n    return fullMarkup;\n  });\n  \n}\n\nfunction createSectionMarkup(date) {\n  \n  startSectionMarkup = `\n    <section class = \"section_read container\"\n    <div class = \"section-title container\">\n    \n    <label class=\"checkbox-btn checkbox\">\n  <input type=\"checkbox\">\n  <span class=\"btn-label\">${date} <svg class=\" date-list__btn-icon\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n  <symbol id=\"icon-vector-2-1\"=\"\" viewBox=\"0 0 50 32\">\n  <path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n  </svg></button></span>\n  <div class=\"under_line\"></div>\n\n    <div class = \"news_container popup\">`;\n  return startSectionMarkup;\n}\n\nfunction getArticlesPerDate(date) {\n  arrArticlesPerDate = favoritesArrFedor.filter(\n    article => article.dateOfReading == date\n  );\n}\n\nfunction createBlockMarkup(arr) {\n  const parsedFavorites = arr;\n  const favoritesKeys = Object.keys(parsedFavorites);\n  for (const favoriteKey of favoritesKeys) {\n    const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n    const createArr = [];\n    createArr.push(parsedFavorite);\n    \n    const {\n      abstract,\n      published_date,\n      pub_date,\n      section,\n      section_name,\n      title,\n      headline,\n      media,\n      multimedia,\n      url,\n      web_url,\n      id,\n      _id,\n      slug_name,\n      dateOfReading,\n    } = parsedFavorite;\n\n    const articleId = id || _id || slug_name;\n    const publishedDate = publishedDateFormatter(published_date || pub_date);\n    const sectionName = section || section_name;\n    const articleTitle = title || headline.main;\n    const shortDescription = abstract;\n    const urlOriginalArticle = url || web_url;\n    let imgUrl = '';\n\n    //   перевіряемо чи є зображення, де помилка там є відео\n    try {\n      if (articleId === id) {\n        imgUrl = media[0]['media-metadata'][2].url;\n      }\n      if (articleId === slug_name) {\n        imgUrl = multimedia[2].url;\n      }\n      if (articleId === _id) {\n        imgUrl = 'https://www.nytimes.com/' + multimedia[0].url;\n      }\n\n      //   якщо треба інший розмір картинки\n     \n    } catch (error) {\n      imgUrl =\n        'https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg';\n    }\n    \n    blockMarkup += createmarkup({\n      publishedDate,\n      sectionName,\n      articleTitle,\n      shortDescription,\n      urlOriginalArticle,\n      imgUrl,\n      articleId,\n    });\n    blockMarkup;\n\n  }\n}\n\n//===функція фільтрації для function getUniqeDateOfRead(arr) ==========\nfunction getOnlyUniqueArray(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\n\n\nbody.insertAdjacentHTML('beforeend', fullMarkup);\n\n\n\n//============= перемикач теми початок ==========\n\nconst themeSwitcherEl = document.querySelector('.switch_input');\nconst mobileSwitcherEl = document.querySelector('.switch_input--mobile');\n\nconst themeSwitcher = new ThemeSwitcher(themeSwitcherEl, mobileSwitcherEl);\n\nmobileSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\nthemeSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\n\nthemeSwitcher.renderTheme();\n//============= перемикач теми кінець ============\n\n// Начало. Проверка на клик по Добавить в избранное\nbody.addEventListener('click', onAddToFavoritesClick);\nbody.addEventListener('click', onAddToReadClick);\n\nfunction onAddToFavoritesClick(evt) {\n  if (evt.target.className === 'card__btn') {\n    const clickedArticleId =\n      evt.target.closest('.card')?.id ||\n      evt.target.closest('.card')?.slug_name ||\n      evt.target.closest('.card')?._id;\n\n      const compareString = evt.target.textContent.trim()\n\n      if ((compareString === 'Add to favorites')) {\n        evt.target.nextElementSibling.classList.remove('fav-icon-add')\n        evt.target.nextElementSibling.classList.add('fav-icon-remove')\n        evt.target.textContent = 'Remove from favorites';\n    } else { evt.target.nextElementSibling.classList.remove('fav-icon-remove')\n    evt.target.nextElementSibling.classList.add('fav-icon-add')\n    evt.target.textContent = 'Add to favorites'}\n    const resultsArr = favoritesArrFedor;\n    setFavoritesInLocalStor({\n      resultsArr,\n      clickedArticleId,\n      evt,\n    });\n  }\n}\n\n\nfunction onAddToReadClick(evt) {\n  if (evt.target.className === 'card__read-more-search') {\n    const clickedArticleId =\n      evt.target.closest('.card')?.id ||\n      evt.target.closest('.card')?.slug_name ||\n      evt.target.closest('.card')?._id;\n    const resultsArr = favoritesArrFedor;\n  const readCard = document.querySelector(`[id_card=\"${clickedArticleId}\"]`);\n  readCard.style.display = 'block';\n    setReadInLocalStor({\n      resultsArr,\n      clickedArticleId,\n      evt,\n    });\n  }\n}","export class ThemeSwitcher {\n  constructor(deskSwitchEl, mobSwitchEl) {\n    this.themeSwitcherEl = deskSwitchEl;\n    this.mobileSwitcherEl = mobSwitchEl;\n    this.dateField = document.querySelector('.date-field');\n    this.dataSelected = document.querySelector('.data_selected');\n    this.currentPage = document\n      .querySelector('body')\n      .getAttribute('data-current-page');\n    this.THEME_STORAGE_KEY = 'theme';\n    this.Theme = {\n      LIGHT: 'light',\n      DARK: 'dark',\n    };\n  }\n\n  onThemeToggle = () => {\n    const isLightTheme = this.getBoolean();\n\n    if (isLightTheme) {\n      localStorage.setItem(this.THEME_STORAGE_KEY, this.Theme.DARK);\n    }\n\n    if (!isLightTheme) {\n      localStorage.setItem(this.THEME_STORAGE_KEY, this.Theme.LIGHT);\n    }\n\n    this.renderTheme();\n    return;\n  };\n\n  renderTheme() {\n    const isLightTheme = this.getBoolean();\n\n    if (!isLightTheme) {\n      this.themeSwitcherEl.setAttribute('checked', true);\n      this.mobileSwitcherEl.setAttribute('checked', true);\n      this.changeBodyClass(this.Theme.DARK, this.Theme.LIGHT);\n      if (this.currentPage === 'index') {\n        this.dataSelected.style.color = '#F4F4F4';\n        this.dataSelected.style.backgroundColor = '#2E2E2E';\n        this.dateField.style.backgroundColor = '#2E2E2E';\n      }\n    }\n\n    if (isLightTheme) {\n      this.changeBodyClass(this.Theme.LIGHT, this.Theme.DARK);\n      if (this.currentPage === 'index') {\n        this.dataSelected.style.color = '#111321';\n        this.dataSelected.style.backgroundColor = '#F4F4F4';\n        this.dateField.style.backgroundColor = '#F4F4F4';\n      }\n    }\n  }\n\n  changeBodyClass(add, remove) {\n    document.body.classList.add(add);\n    document.body.classList.remove(remove);\n  }\n\n  getBoolean() {\n    const storageTheme = localStorage.getItem(this.THEME_STORAGE_KEY);\n    return storageTheme === this.Theme.LIGHT || !storageTheme;\n  }\n}\n"],"names":["$0ff8bb512ff0da93$var$favIconClass","$0ff8bb512ff0da93$export$96a9d89d43c2d302","publishedDate","sectionName","articleTitle","shortDescription","urlOriginalArticle","imgUrl","articleId","textLength","length","spaceIndex","indexOf","slice","titleLength","favoritesBtnText","favorites","localStorage","getItem","parsedFavorites","JSON","parse","favoritesKeys","Object","keys","favoriteKey","parsedFavorite","id","_id","slug_name","document","querySelector","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$adc5fb9a74f48046$export$23892c27199890f4","date","$adc5fb9a74f48046$var$padTo2Digits","getDate","getMonth","getFullYear","join","$adc5fb9a74f48046$var$formatDate","Date","num","toString","padStart","$870e0a50c6c46fee$export$d3ea68bb8bc1dba0","resultsArr","clickedArticleId","evt","STORAGE_FAVORITES_KEY","forEach","article","savedData","target","textContent","trim","setItem","stringify","$d77988f113c7cb9d$export$260410dc81df99df","STORAGE_READ_KEY","dateOfReading","month","year","$d77988f113c7cb9d$var$getTime","$56697b3ed36fb081$var$body","$56697b3ed36fb081$var$withoutNewsContainer","$56697b3ed36fb081$var$arrDateOfRead","$56697b3ed36fb081$var$arrUniqueDateOfRead","$56697b3ed36fb081$var$arrArticlesPerDate","$56697b3ed36fb081$var$favoritesArrFedor","$56697b3ed36fb081$var$read","$56697b3ed36fb081$var$fullMarkup","$56697b3ed36fb081$var$sectionMarkup","$56697b3ed36fb081$var$startSectionMarkup","$56697b3ed36fb081$var$blockMarkup","$56697b3ed36fb081$var$getOnlyUniqueArray","index","self","arr","push","abstract","published_date","pub_date","section","section_name","title","headline","media","multimedia","url","web_url","filter","$56697b3ed36fb081$var$getUniqeDateOfRead","style","display","$56697b3ed36fb081$var$getReadArticlesFromLocStor","arrUniqueDateOfRead1","$56697b3ed36fb081$var$createSectionMarkup","$56697b3ed36fb081$var$getArticlesPerDate","main","error","$56697b3ed36fb081$var$createBlockMarkup","$56697b3ed36fb081$var$renderPage","insertAdjacentHTML","$56697b3ed36fb081$var$themeSwitcherEl","$56697b3ed36fb081$var$mobileSwitcherEl","$56697b3ed36fb081$var$themeSwitcher","renderTheme","isLightTheme","this","getBoolean","themeSwitcherEl","setAttribute","mobileSwitcherEl","changeBodyClass","Theme","DARK","LIGHT","currentPage","dataSelected","color","backgroundColor","dateField","add","remove","body","classList","storageTheme","THEME_STORAGE_KEY","constructor","deskSwitchEl","mobSwitchEl","$parcel$interopDefault","getAttribute","addEventListener","onThemeToggle","className","ref","ref1","ref2","closest","nextElementSibling","ref3","ref4","resultsArr2"],"version":3,"file":"read.f8e38b69.js.map"}