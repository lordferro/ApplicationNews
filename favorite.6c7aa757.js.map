{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/news-card.js","src/js/header.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/themeSwitcher.js","<<jsx-config-pragma.js>>","src/js/publishedDateFormatter.js","src/js/setFavoritesInLocalStore.js","src/js/setReadInLocalStore.js","src/favorite.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const STORAGE_FAVORITES_KEY = 'favorites';\n\nlet favIconClass = \"fav-icon-add\";\n\nexport function createmarkup({\n  publishedDate,\n  sectionName,\n  articleTitle,\n  shortDescription,\n  urlOriginalArticle,\n  imgUrl,\n  articleId,\n}) {\n  let textLength = shortDescription;\n  if (shortDescription.length > 110) {\n    const spaceIndex = shortDescription.indexOf(' ', 110);\n    if (spaceIndex > 0) {\n      textLength = shortDescription.slice(0, spaceIndex) + '...';\n    }\n  }\n  let titleLength = articleTitle;\n  if (articleTitle.length > 58) {\n    const spaceIndex = articleTitle.indexOf(' ', 44);\n    if (spaceIndex > 0) {\n      titleLength = articleTitle.slice(0, spaceIndex) + '...';\n    }\n  }\n  // проверка или новость есть в локальном избранное\n  let favoritesBtnText = 'Add to favorites';\n  const favorites = localStorage.getItem(STORAGE_FAVORITES_KEY);\n  if (favorites) {\n    const parsedFavorites = JSON.parse(favorites);\n    const favoritesKeys = Object.keys(parsedFavorites);\n    for (const favoriteKey of favoritesKeys) {\n      const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n      const { id, _id, slug_name } = parsedFavorite;\n\n      const articleIdInFavorites = id || _id || slug_name;\n      if (articleId === articleIdInFavorites) {\n        favoritesBtnText = 'Remove from favorites';\n        favIconClass = \"fav-icon-remove\";\n      } else {favIconClass = \"fav-icon-add\";}\n    }\n  }\n\n let favIcon =\n    `<svg class=\"fav-icon ${favIconClass}\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>`;\n  return `\n      <article class=\"card\" id=\"${articleId}\">\n\n        <div class=\"card__img-container\" >\n          <div class=\"card__blur\" id_card=\"${articleId}\">\n            <p class=\"card__already-read\">\n              Already read ✓\n            </p>\n            </div>\n          <img class=\"card__img\" src=\"${imgUrl}\" alt=\"${articleTitle}\">\n          <p class=\"card__section-name\">\n            ${sectionName}\n          </p>\n          <button class=\"card__btn\" type=\"button\">\n           ${favoritesBtnText}\n          </button>\n          ${favIcon}\n        </div>\n        <h2 class=\"card__title\">\n          ${titleLength}\n        </h2>\n        <p class=\"card__text\">${textLength}</p>\n        <div class=\"card__bottom\">\n          <span class=\"card__date\">\n            ${publishedDate}\n          </span>\n          <a class=\"card__read-more-search\"\n            href=\"${urlOriginalArticle}\" target=\"_blank\"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    `;\n}\n","const btnSearch = document.querySelector(\".search_mob_btn\");\nconst formSearch = document.querySelector(\".search_form\");\nconst inputSearch = document.querySelector(\".search_input\");\nconst btn = document.querySelector(\".search_btn\");\n\nexport function onSearchClick() {\n    btnSearch.style.display = \"none\";\n    formSearch.style.display = \"block\";\n    inputSearch.style.display = \"block\";\n    btn.style.display = \"block\";\n    \n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export class ThemeSwitcher {\n  constructor(deskSwitchEl, mobSwitchEl) {\n    this.themeSwitcherEl = deskSwitchEl;\n    this.mobileSwitcherEl = mobSwitchEl;\n    this.dateField = document.querySelector('.date-field');\n    this.dataSelected = document.querySelector('.data_selected');\n    this.currentPage = document\n      .querySelector('body')\n      .getAttribute('data-current-page');\n    this.THEME_STORAGE_KEY = 'theme';\n    this.Theme = {\n      LIGHT: 'light',\n      DARK: 'dark',\n    };\n  }\n\n  onThemeToggle = () => {\n    const isLightTheme = this.getBoolean();\n\n    if (isLightTheme) {\n      localStorage.setItem(this.THEME_STORAGE_KEY, this.Theme.DARK);\n    }\n\n    if (!isLightTheme) {\n      localStorage.setItem(this.THEME_STORAGE_KEY, this.Theme.LIGHT);\n    }\n\n    this.renderTheme();\n    return;\n  };\n\n  renderTheme() {\n    const isLightTheme = this.getBoolean();\n\n    if (!isLightTheme) {\n      this.themeSwitcherEl.setAttribute('checked', true);\n      this.mobileSwitcherEl.setAttribute('checked', true);\n      this.changeBodyClass(this.Theme.DARK, this.Theme.LIGHT);\n      if (this.currentPage === 'index') {\n        this.dataSelected.style.color = '#F4F4F4';\n        this.dataSelected.style.backgroundColor = '#2E2E2E';\n        this.dateField.style.backgroundColor = '#2E2E2E';\n      }\n    }\n\n    if (isLightTheme) {\n      this.changeBodyClass(this.Theme.LIGHT, this.Theme.DARK);\n      if (this.currentPage === 'index') {\n        this.dataSelected.style.color = '#111321';\n        this.dataSelected.style.backgroundColor = '#F4F4F4';\n        this.dateField.style.backgroundColor = '#F4F4F4';\n      }\n    }\n  }\n\n  changeBodyClass(add, remove) {\n    document.body.classList.add(add);\n    document.body.classList.remove(remove);\n  }\n\n  getBoolean() {\n    const storageTheme = localStorage.getItem(this.THEME_STORAGE_KEY);\n    return storageTheme === this.Theme.LIGHT || !storageTheme;\n  }\n}\n",null,"// начало. переформатирование даты\nexport function publishedDateFormatter(date) {\n  return formatDate(new Date(date));\n}\n\nfunction formatDate(date) {\n  return [\n    padTo2Digits(date.getDate()),\n    padTo2Digits(date.getMonth() + 1),\n    date.getFullYear(),\n  ].join('/');\n}\n\nfunction padTo2Digits(num) {\n  return num.toString().padStart(2, '0');\n}\n// конецю переформатирование даты\n","export function setFavoritesInLocalStor({\n  resultsArr,\n  clickedArticleId,\n  evt,\n}) {\n  const STORAGE_FAVORITES_KEY = 'favorites';\n  resultsArr.forEach(article => {\n    if (\n      article.id == clickedArticleId ||\n      article.slug_name == clickedArticleId ||\n      article._id == clickedArticleId\n    ) {\n      let savedData = localStorage.getItem(STORAGE_FAVORITES_KEY);\n\n      // проверка или есть уже обьект\n      savedData = savedData ? JSON.parse(savedData) : {};\n\n      if (savedData[clickedArticleId]) {\n        delete savedData[`${clickedArticleId}`];\n\n        const compareString = evt.target.textContent.trim()\n        if ((compareString === 'Remove from favorites')) {\n          evt.target.textContent = 'Add to favorites';\n  \n\n        }\n\n        localStorage.setItem(STORAGE_FAVORITES_KEY, JSON.stringify(savedData));\n        return;\n      } else {\n        savedData[clickedArticleId] = article;\n\n        localStorage.setItem(STORAGE_FAVORITES_KEY, JSON.stringify(savedData));\n      }\n    }\n  });\n}","//===добавляет избранное в локальное хранилище ==========\nexport function setReadInLocalStor({\n  resultsArr,\n  clickedArticleId,\n  evt,\n}) {\n  const STORAGE_READ_KEY = 'read';\n  resultsArr.forEach(article => {\n    if (\n      article.id == clickedArticleId ||\n      article.slug_name == clickedArticleId ||\n      article._id == clickedArticleId\n    ) {\n      let savedData = localStorage.getItem(STORAGE_READ_KEY);\n      \n      // проверка или есть уже обьект\n      savedData = savedData ? JSON.parse(savedData) : {};\n\n      article.dateOfReading = getTime();   \n        savedData[clickedArticleId] = article;\n        \n        localStorage.setItem(STORAGE_READ_KEY, JSON.stringify(savedData));\n        \n    }\n  });\n}\n\nfunction getTime(){\n  const date = new Date().getDate();\n  const month = (new Date().getMonth() + 1);\n  const year = new Date().getFullYear();\n  let DateOfRead = (`${date}/${month}/${year}`)\n  return DateOfRead;\n}\n//== добавляет избранное в локальное хранилище. конец ==========\n","\nimport {createmarkup} from './js/news-card';\nimport {onSearchClick} from './js/header';\nimport { ThemeSwitcher } from './js/themeSwitcher';\nimport {publishedDateFormatter} from './js/publishedDateFormatter';\nimport {setFavoritesInLocalStor} from './js/setFavoritesInLocalStore';\nimport {setReadInLocalStor} from './js/setReadInLocalStore';\nconst newsContainerRef = document.querySelector('.news_container');\nconst body = document.querySelector('body');\nconst searchInput = document.querySelector('.search_form');\nconst withoutNewsContainer = document.querySelector('.without-news_container');\nconst STORAGE_FAVORITES_KEY = 'favorites';\nlet markupAll = '';\n\nsearchInput.addEventListener('submit', onSearchInputClickAtFavorites);\n\nfunction onSearchInputClickAtFavorites(evt) {\n  evt.preventDefault()\n  const query = evt.target.elements.searchQuery.value\n  localStorage.setItem(\"searchQueryFromFavorites\", query)\nwindow.open('index.html', '_self')\n}\n\n\n//============= перемикач теми початок ==========\n\nconst themeSwitcherEl = document.querySelector('.switch_input');\nconst mobileSwitcherEl = document.querySelector('.switch_input--mobile');\n\nconst themeSwitcher = new ThemeSwitcher(themeSwitcherEl, mobileSwitcherEl);\n\nmobileSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\nthemeSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\n\nthemeSwitcher.renderTheme();\n//============= перемикач теми кінець ============\n\nbody.addEventListener('click', onAddToFavoritesClick);\nbody.addEventListener('click', onAddToReadClick);\nlet favoritesArrFedor = [];\n\nfunction addFavorite() {\n  const favorites = localStorage.getItem(STORAGE_FAVORITES_KEY);\n  \n  if (!favorites || Object.entries(JSON.parse(favorites)).length === 0) {\n    withoutNewsContainer.style.display = 'block';\n  } else {\n    const parsedFavorites = JSON.parse(favorites);\n    const favoritesKeys = Object.keys(parsedFavorites);\n    \n    for (const favoriteKey of favoritesKeys) {\n      const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n       favoritesArrFedor.push(parsedFavorite);\n       const {\n         abstract,\n         published_date,\n         pub_date,\n        section,\n        section_name,\n        title,\n        headline,\n        media,\n        multimedia,\n        url,\n        web_url,\n        id,\n        _id,\n        slug_name,\n      } = parsedFavorite;\n      \n      const articleId = id || _id || slug_name;\n      const publishedDate = publishedDateFormatter(published_date || pub_date);\n      const sectionName = section || section_name;\n      const articleTitle = title || headline.main;\n      const shortDescription = abstract;\n      const urlOriginalArticle = url || web_url;\n      let imgUrl = '';\n      \n\n      //   перевіряемо чи є зображення, де помилка там є відео\n      try {\n        if (articleId === id) {\n          imgUrl = media[0]['media-metadata'][2].url;\n        }\n        if (articleId === slug_name) {\n          imgUrl = multimedia[2].url;\n        }\n        if (articleId === _id) {\n          imgUrl = 'https://www.nytimes.com/' + multimedia[0].url;\n        }\n        \n        //   якщо треба інший розмір картинки\n\n      } catch (error) {\n        imgUrl =\n        'https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg';\n      }\n      \n      markupAll += createmarkup({\n        publishedDate,\n        sectionName,\n        articleTitle,\n        shortDescription,\n        urlOriginalArticle,\n        imgUrl,\n        articleId,\n      });\n    }\n    newsContainerRef.innerHTML = markupAll;\n  }\n}\n\naddFavorite();\n\nfunction onAddToFavoritesClick(evt) {\n  if (evt.target.className === 'card__btn') {\n    const clickedArticleId =\n      evt.target.closest('.card')?.id ||\n      evt.target.closest('.card')?.slug_name ||\n      evt.target.closest('.card')?._id;\n\n      const compareString = evt.target.textContent.trim()\n\n\n      if ((compareString === 'Add to favorites')) {\n        evt.target.nextElementSibling.classList.remove('fav-icon-add')\n        evt.target.nextElementSibling.classList.add('fav-icon-remove')\n        evt.target.textContent = 'Remove from favorites';\n    } else { evt.target.nextElementSibling.classList.remove('fav-icon-remove')\n    evt.target.nextElementSibling.classList.add('fav-icon-add')\n    evt.target.textContent = 'Add to favorites'}\n    const resultsArr = favoritesArrFedor;\n    setFavoritesInLocalStor({\n      resultsArr,\n      clickedArticleId,\n      evt,\n    });\n  }\n}\n\nfunction onAddToReadClick(evt) {\n  if (evt.target.className === 'card__read-more-search') {\n    const clickedArticleId =\n      evt.target.closest('.card')?.id ||\n      evt.target.closest('.card')?.slug_name ||\n      evt.target.closest('.card')?._id;\n    const resultsArr = favoritesArrFedor;\n    const readCard = document.querySelector(`[id_card=\"${clickedArticleId}\"]`);\n  readCard.style.display = 'block';\n    setReadInLocalStor({\n      resultsArr,\n      clickedArticleId,\n      evt,\n    });\n  }\n}"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$fb28d485034939d1$var$favIconClass","$fb28d485034939d1$export$96a9d89d43c2d302","param","publishedDate","sectionName","articleTitle","shortDescription","urlOriginalArticle","imgUrl","articleId","textLength","length","spaceIndex","indexOf","slice","titleLength","spaceIndex1","favoritesBtnText","favorites","localStorage","getItem","parsedFavorites","JSON","parse","favoritesKeys","keys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","favoriteKey","parsedFavorite","concat","id","_id","slug_name","err","return","favIcon","document","querySelector","$665014edacbfe17b$exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$274fa498a4304aa9$export$9d63163ee2173b37","ThemeSwitcher","deskSwitchEl","mobSwitchEl","$parcel$interopDefault","$hKHmD","this","isLightTheme","_this","getBoolean","setItem","THEME_STORAGE_KEY","Theme","DARK","LIGHT","renderTheme","themeSwitcherEl","mobileSwitcherEl","dateField","dataSelected","currentPage","getAttribute","setAttribute","changeBodyClass","style","color","backgroundColor","add","remove","body","classList","storageTheme","$4d98fa380d22eb3f$export$23892c27199890f4","date","$4d98fa380d22eb3f$var$padTo2Digits","getDate","getMonth","getFullYear","join","$4d98fa380d22eb3f$var$formatDate","Date","num","toString","padStart","$e8fa2e93a54e3c61$export$d3ea68bb8bc1dba0","resultsArr","clickedArticleId","evt","STORAGE_FAVORITES_KEY","forEach","article","savedData","textContent","trim","stringify","$3b0fb5d0a084bd59$export$260410dc81df99df","STORAGE_READ_KEY","dateOfReading","month","year","$19661b0c25203147$var$newsContainerRef","$19661b0c25203147$var$body","$19661b0c25203147$var$searchInput","$19661b0c25203147$var$withoutNewsContainer","$19661b0c25203147$var$markupAll","addEventListener","preventDefault","query","elements","searchQuery","window","open","$19661b0c25203147$var$themeSwitcherEl","$19661b0c25203147$var$mobileSwitcherEl","$19661b0c25203147$var$themeSwitcher","onThemeToggle","className","ref","ref1","ref2","closest","nextElementSibling","$19661b0c25203147$var$favoritesArrFedor","ref3","ref4","display","entries","push","abstract","published_date","pub_date","section","section_name","title","headline","media","multimedia","url","web_url","main","error","innerHTML","$19661b0c25203147$var$addFavorite"],"version":3,"file":"favorite.6c7aa757.js.map"}